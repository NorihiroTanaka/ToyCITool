# TASK-003: ジョブのタイムアウト設定

## 1. タスク概要
ジョブが無限ループに陥ったり、予期せず停止した場合にリソースを解放するため、ジョブ実行にタイムアウト制限を設ける。

## 2. 現状の課題
*   **現状:** 明示的なタイムアウト処理がない（または `subprocess.run` のデフォルト）。
*   **問題点:** プロセスがハングアップすると、手動で介入するまでリソース（CPU、メモリ、ディスクロック）を占有し続け、後続のジョブが詰まる可能性がある。

## 3. 仕様・要件

### コアコンセプトへの適合
*   **Docker非依存 (No Docker Dependency):**
    *   タイムアウト制御は、コンテナオーケストレーターの機能には頼らず、Pythonのプロセス管理機能を用いて実装する。
    *   OSのシグナル（SIGTERM/SIGKILL等）を適切に送信し、ホストOS上のプロセスツリーを確実にクリーンアップする。
*   **容易な設定 (Easy Configuration):**
    *   `config.yaml` に `default_timeout` のような直感的な設定項目を設ける。
    *   妥当なデフォルト値（例: 60分）を設定済みとし、ユーザーが明示的に設定しなくても無限ループによるリソース枯渇を防ぐ安全設計とする。

### 実装内容
*   **対象ファイル:** `src/core/job_executor.py`
*   **設定:** `config.yaml` にデフォルトのタイムアウト時間を設定（例: `default_timeout: 3600` 秒）。ジョブ定義ごとのオーバーライドも考慮。

### 期待される挙動
1.  ジョブ実行開始時にタイマーを開始する。
2.  指定された時間（例: 60分）を超過してもプロセスが終了しない場合：
    *   プロセスを強制終了（`terminate()` または `kill()`）する。
    *   ジョブのステータスを `TIMEOUT` または `FAILED` に更新する。
    *   ログに「タイムアウトにより強制終了」の旨を記録する。

### 実装アプローチ
*   Python 3.3+ の `subprocess` モジュールの `timeout` 引数（`run`の場合）を利用するか、`Popen` を使う場合は `communicate(timeout=...)` を利用する。
*   リアルタイムロギング（TASK-001）と併用する場合、読み込みループ内で時間を監視するか、非同期処理（`asyncio`）の `wait_for` 等を利用してタイムアウトを実装する。

## 4. 優先度
**Medium**
（初期段階では必須ではないが、安定運用のために早めに実装すべき）
